<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>フロントエンドエンジニアから見た『ハイパフォーマンス ブラウザネットワーキング』</title>
    <meta name="viewport" content="width=device-width">
<!-- OGPtoka -->

    <meta property="og:description" content="オライリーさんから発売される「ハイパフォーマンス ブラウザネットワーキング」を頂きました。あり..." />
    <meta property="og:title" content="フロントエンドエンジニアから見た『ハイパフォーマンス ブラウザネットワーキング』" />
    <meta property="og:type" content="website" />
    
      <meta property="og:url" content="http://nakajmg.github.io/blog/2014-05-13/hpbn.html" />
    
    <meta property="og:site_name" content="じまぐてっく" />
    <meta property="og:image" content="http://nakajmg.github.io/img/tech.png" />
    
      <meta property="article:published_time" content="2014-05-13" />
    

<!-- OGPtoka -->

    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <link rel="stylesheet" href="/css/font-awesome.css">
  </head>
  <body>
    <section class="global-wrapper">
      <header class="global-header">
        <div class="global-header__logo">
          <h1><a href="/"><img src="/img/logo.png" alt="じまぐてっく"></a></h1>
        </div>
        <nav class="global-nav">
          <a href="/">HOME</a><span> | </span>
          <a href="/about.html">ABOUT</a>
        </nav>
        <div class="global-header__follow">
          <div class="global-header__icons">
            <span class="follow-icon">
              <a href="https://twitter.com/nakajmg" target="_blank"><i class="icon-twitter"></i></a>
            </span>
            <span class="follow-icon">
              <a href="https://github.com/nakajmg" target="_blank"><i class="icon-github-alt"></i></a>
            </span>
            <span class="follow-icon">
              <a href="http://qiita.com/nakajmg" target="_blank" class="icon__qiita"></a>
            </span>
          </div>
          <span>@nakajmg</span>
        </div>
      </header>

      <div  class="content-wrapper">
        <article class="content">
    <header class="content-header">
        <h2 class="content-title">フロントエンドエンジニアから見た『ハイパフォーマンス ブラウザネットワーキング』</h2>
        <p class="content-date">2014-05-13</p>
    </header>

    <p><img src="/img/photo/2014-5-13.png" alt="header_image"></p>

<p>オライリーさんから発売される「<a href="http://www.oreilly.co.jp/books/9784873116761/">ハイパフォーマンス ブラウザネットワーキング</a>」を頂きました。ありがとうございます。</p>

<blockquote>
<p>Ilya Grigorik　著、和田 祐一郎／株式会社プログラミングシステム社　訳<br>
現代のアプリケーションエンジニアは、UIやデータ処理、開発言語、プラットフォームの仕様や癖だけでなく、サーバやネットワークについても、上から下まで、表から裏まで広く知ることを求められます。本書は「ブラウザ」に関連し、インターネットで使用されるさまざまなネットワーク技術をまとめたものです。HTTP/2.0やWebRTCなどの最新技術、WebSocketやXMLHttpRequestなどのブラウザAPI、そしてそれらの土台となるTCPやUDPやトランスポート層についてまでを幅広くカバーします。本書はカバーする技術範囲の広さを「パフォーマンス」という軸に沿って説明します。また改善前後の性能・速さを可能な限り具体化し、それぞれの場面においてのパフォーマンス改善幅を示します。ネットワークのデータリンク層からアプリケーション層、そして過去から近い将来までをまとめた本書は、インターネットにかかわるすべてのエンジニア必携の一冊です。
本書のTwitterハッシュタグは #HPBNjです。</p>
</blockquote>

<p>概要に書かれている通り、広範囲のネットワークに関してのナレッジがこの本ではまとめられています。本書の目次を見て、フロントエンドに一番関係していそうだと思った「Webパフォーマンス入門」の章を最初に読んだので、その内容を紹介したいと思います。</p>

<h2>Webパフォーマンスの計測</h2>

<p>まず「計測できる項目は改善できる項目である」と前置きした上で、計測の必要性と昨今のWebアプリケーションにおいてのパフォーマンス計測の難しさについて書かれていました。</p>

<p>計測の必要性についてはGoogle、Microsoft、Amazonの調査結果からWebパフォーマンス(スピード)がそのまま貨幣価値に直接換算できると触れています。</p>

<blockquote>
<p>より速いサイトはより多くのページビューを生み出し、より高いエンゲージメントと高いコンバージョンレートにつながります。</p>
</blockquote>

<p>しかし、このWebパフォーマンス(スピード)はベンチマークのスコアだけを鵜呑みにするのではなく、そのWebサイトやWebアプリケーションにとって重要な指標、評価基準を定める必要性があると解説しています。</p>

<p>この計測の指標ですが、複雑化してるWebアプリケーションに対して正しい指標を定めるのは難しいことだと思います。本書ではこの指標を定めるための手助けになる情報が多く書かれています。</p>

<h2>フロントエンドの最適化手法の例</h2>

<p>本章では<a href="http://www.yahoo.com">www.yahoo.com</a>のサイトを例に、ウォーターフォールチャートを分析する方法が解説されています。Yahoo!が最適化に関してどういった方法をとっているか、Yahoo!にとって重要なコンテンツがどれで重要でないコンテンツがどれか、といったことをウォーターフォールチャートから導き出しています。</p>

<p>またフロントエンドの最適化について、以下のように触れています。</p>

<blockquote>
<p>先ほどのウォーターフォールチャート分析と最適化プロセスはフロントエンドパフォーマンスの分析・最適化と呼ばれています。しかし、この名称は多くの人がパフォーマンスのボトルネックがクライアント側にあると思わせてしまう、不幸な命名です。</p>
</blockquote>

<p>昨今のWebアプリケーションではSPA(Single Page Application)のような、JavaScriptによるアプリケーションの構築が盛んです。最適化としてminifyやconcat、CSSスプライトなどなど、フロントエンドでのチューニングに注目されがちです。</p>

<blockquote>
<p>そもそもコンテンツがネットワークでブロックされていると、構文解析や実行は行えません。</p>
</blockquote>

<p>本書ではバックエンドの最適化についての重要性に触れるとともに、フロントエンドエンジニアが理解しておくべきネットワークの知識を幅広く提供してくれているように思います。</p>

<h2>ブラウザが行なってくれている最適化</h2>

<p>Chromeのページ先読み機能が有名だと思いますが、ブラウザ自身が高速化のために最適化などを行なっています。
その方法はブラウザの実装によりますが、この&quot;ブラウザによる最適化&quot;をフロントエンドの実装で手助けできるかもしれないとして</p>

<ul>
<li>重要なリソースをドキュメント上で早く発見できるように</li>
<li>レンダリングとJSの実行をブロックしないように</li>
<li>DNSのプリフェッチ</li>
<li>リソースの優先プリフェッチ</li>
<li>ページのプリレンダリング</li>
</ul>

<p>などなど「ブラウザの最適化を補助するためにブラウザにヒントを与えてあげることができる」と紹介しています。</p>

<p>紹介されている手法の中にはブラウザの実装に依るものもあり「必ずしも最適化の役に立つとは言えないがヒントを書いても無視されるだけで害はない」と解説しています。
今後ブラウザによる最適化の実装が進めばこれらの手法が当たり前になるかもしれませんので、覚えておくに越したことはないと思います。</p>

<h2>他にも</h2>

<ul>
<li>Navigation Timing APIを利用したユーザが実際に動かしている環境でのパフォーマンス計測</li>
<li>User Timing API と Resouce Timing API</li>
<li>帯域幅とレイテンシの高低差がページロードに与える影響の違い</li>
</ul>

<p>などが10章では解説されています。この章自体は20Pと多くありませんが、内容の濃さはすごいです。</p>

<h2>おわりに</h2>

<p>10章だけを読んだだけの段階でも、得られた知見はかなり多いです。フロントエンドに関わる内容はこの章以外にも多くあります。というか全て無関係な内容ではありません。
この章を読んだら他の章の内容にもきっと興味が湧いてくると思います。モバイル環境でのパフォーマンスについても多く触れられています。</p>

<p>ネットワークという、フロントエンドとはちょっとレイヤー違うんじゃないの？と感じられる内容がパッと見では多いですが、フロントエンドエンジニアとしての専門性を高めたいと思っている人には間違いなくオススメの本です。</p>

<hr>

<h4>書評リンク</h4>

<p>他の方がまとめられた書評も購入の参考にしてみてください。</p>

<ul>
<li><a href="http://jxck.hatenablog.com/entry/2014/05/12/HPBN">ハイパフォーマンス ブラウザネットワーキング書評 - Block Rockin’ Codes</a></li>
<li><a href="http://blog.summerwind.jp/archives/2252">ハイパフォーマンス ブラウザネットワーキング - SummerWind</a></li>
<li><a href="http://terurou.hateblo.jp/entry/2014/05/10/192403">ハイパフォーマンス ブラウザネットワーキング、読むべき本だった - terurouメモ</a></li>
</ul>

<p>他の方も書かれていますが、読書会をやるのに適してそうな本だなと思います。フロントエンド・バックエンドといった役割を越えて共有できる内容が多いです。</p>


    <div class="social-btns">
    <a href="https://twitter.com/share" class="twitter-share-button"  data-url="http://nakajmg.github.io/blog/2014-05-13/hpbn.html" data-text="フロントエンドエンジニアから見た『ハイパフォーマンス ブラウザネットワーキング』 - じまぐてっく">Tweet</a>
    <div class="fb-like" data-href="http://nakajmg.github.io/blog/2014-05-13/hpbn.html" data-send="false" data-layout="button_count" data-width="118" data-show-faces="true"></div>
    <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加" ><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
    <div class="g-plusone" data-size="medium"></div>
    <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
  <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="/js/jquery.socialthings.min.js"></script>
<style>
.social-btns{
    margin-bottom: 10px;
}
.social-btns iframe,
.social-btns > div
{
    vertical-align: bottom !important;
}
.social-btns > div:last-of-type iframe{
    height: 20px;
}
</style>
<script>

$(function(){
    $.socialthings.twitter.applyWidgets();
    $.socialthings.facebook.loadJS();
    $.socialthings.gplus.options.lang = 'ja';
    $.socialthings.gplus.applyWidgets();
    $.socialthings.hatebu.applyWidgets();
});

</script>
</article>
      </div>

      <footer class="global-footer">
        <nav class="global-footer__nav">
          <a href="/">HOME</a> <a>･</a>
          <a href="/about.html">ABOUT</a>
        </nav>
        <div class="global-footer__content">
          <i class="icon__author"></i>
          <h3 class="global-footer__title">@nakajmg</h3>
          <div class="global-footer__author">
            <p>Front-end Engineer. 11px
          </div>

          <div class="global-footer__icons">
            <span class="icons icons--twitter">
              <a href="https://twitter.com/nakajmg" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
            </span>
            <span class="icons icons--github">
              <a href="https://github.com/nakajmg" target="_blank" title="GitHub"><i class="icon-github-alt"></i></a>
            </span>
            <span class="icons icons--qiita">
              <a href="http://qiita.com/nakajmg" target="_blank" class="icon__qiita" title="Qiita"></a>
            </span>
          </div>
        </div>
      </footer>
    </section>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-46195295-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
